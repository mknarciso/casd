<p id="notice"><%= notice %></p>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.12/css/dataTables.bootstrap.min.css" rel="stylesheet"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.12/js/jquery.dataTables.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.12/js/dataTables.bootstrap.min.js"></script>


<h1>Listando Candidatos | <%= link_to "Selecionar Colunas", candidatos_selection_path , role: "button", class: "btn btn-default" %></h1>

<table id="candidatosTable" class="table table-striped table-bordered" cellspacing="0" width="100%">
  <thead>
    <tr>
      <% @columns.each do |s| %>
        <% if s!="id" %>
          <th><%= s.camelcase %></th>
        <% end %>
      <% end %>
      <th> </th>
      <th> </th>
      <th> </th>
    </tr>
  </thead>

  <tbody>
    <% @candidatos.each do |candidato| %>
      <tr>
        <% @columns.each do |s| %>
          <% if s!="id" %>
            <td><%= candidato[s.to_sym] %></td>
          <% end %>
        <% end %>
        <td><%= link_to 'Show', candidato, role: "button", class: "btn btn-primary btn-xs" %></td>
        <td><%= link_to 'Edit', edit_candidato_path(candidato), role: "button", class: "btn btn-info btn-xs" %></td>
        <td><%= link_to 'Destroy', candidato, method: :delete, data: { confirm: 'Are you sure?' }, role: "button", class: "btn btn-danger btn-xs" %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'Novo Candidato', new_candidato_path , role: "button", class: "btn btn-default" %>
<%= link_to 'Importar Lista CSV', addfile_candidatos_path , role: "button", class: "btn btn-default" %>

<script>
  $(document).ready(function() {
  $('#candidatosTable').DataTable();
});
</script>